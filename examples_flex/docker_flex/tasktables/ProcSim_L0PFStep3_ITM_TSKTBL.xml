<?xml version="1.0" encoding="UTF-8"?>
<Task_Table schemaName="FLEX CPF-Processor ICD" schemaVersion="0.1">
    <Processor_Name>l0preproc_smStep3_ITM</Processor_Name>
    <Processor_Version>01.01</Processor_Version>
    <Author>ESRIN</Author>
    <List_of_Tasks>
        <Task>
            <Task_Name>Step3_ITM</Task_Name>
            <Task_Version>05.03</Task_Version>
            <SW_Distribution>/app/Library/Python/3.10/bin/procsim</SW_Distribution>
            <SW_Version_Tag>01.01</SW_Version_Tag>
            <Executable>/app/level0_step3.sh</Executable> <!-- Executable name, as well as path, may change with real L0PF v1 -->
            <!-- Following CPU/RAM values are purely indicative and will be updated once L0PF v1 will become available-->
            <CPU_Cores>
                <Number>8</Number>
                <Scalable>No</Scalable>
            </CPU_Cores>
            <RAM>
                <Amount>2000</Amount> 
                <Scalable>No</Scalable>
            </RAM>
            <Disk_Space>1000</Disk_Space> <!-- Indicative MB size for Docker image + provided I/O files -->
            <Timeout>0</Timeout>
            <Killing_Signal>9</Killing_Signal>
            <Critical>Yes</Critical>
            <List_of_Proc_Parameters>
            	<Proc_Parameter>
          			<Name>Product_Counter</Name>
          			<Default_Value>0</Default_Value>
        		</Proc_Parameter>
        		<Proc_Parameter>
          			<Name>Processing_Stage_Flag</Name>
          			<Default_Value>N</Default_Value>
        		</Proc_Parameter>
        		<Proc_Parameter>
          			<Name>originator_ID</Name>
          			<Default_Value>TST</Default_Value>
        		</Proc_Parameter>
        		<Proc_Parameter>
          			<Name>Orbit_Number</Name>
          			<Default_Value>1024</Default_Value>
        		</Proc_Parameter>
        		<Proc_Parameter>
          			<Name>Acquisition_Station</Name>
          			<Default_Value>ESR</Default_Value>
        		</Proc_Parameter>
			</List_of_Proc_Parameters>
            <List_of_Cfg_Files>
                <Cfg_File>
                    <Cfg_ID>Global</Cfg_ID>
                    <Cfg_File_Name>/app/procsim_config_l0_step3.json</Cfg_File_Name> <!-- Configuration name, as well as path, may change with real L0PF v1 -->
                </Cfg_File>
                <Cfg_File>
                    <Cfg_ID>Local</Cfg_ID>
                    <Cfg_File_Name>/app/procsim_config_l0_step3.json</Cfg_File_Name> <!-- Configuration name, as well as path, may change with real L0PF v1 -->
                </Cfg_File>
            </List_of_Cfg_Files>
            <List_of_Inputs>
            	<Input>
                    <Input_ID>RWS_XS_ITM</Input_ID>
                    <Mandatory>Yes</Mandatory>
                    <List_of_Input_Alternatives>
                        <Input_Alternative>
                            <Alternative_ID>0001</Alternative_ID>
                            <List_of_Alternative_Types>
                                <Alternative_Type>
                                    <File_Type>RWS_XS_ITM</File_Type>
                                    <Origin>External</Origin>
                                    <Instances>SINGLE</Instances>
                                    <Selection_Parameters>
                                        <Temporal_Parameters>
                                            <Start_Offset>0</Start_Offset>
                                            <Stop_Offset>0</Stop_Offset>
                                            <Overlap>Yes</Overlap>
                                            <Min_Overlap>0</Min_Overlap>
                                        </Temporal_Parameters>
                                    </Selection_Parameters>
                                    <Max_Number_of_Files>1</Max_Number_of_Files>
                                    <Ordering>Latest</Ordering>
                                </Alternative_Type>
                            </List_of_Alternative_Types>
                        </Input_Alternative>
                    </List_of_Input_Alternatives>
                </Input>
                <Input>
                    <Input_ID>AUX_IERS_B</Input_ID>
                    <Mandatory>Yes</Mandatory>
                    <List_of_Input_Alternatives>
                        <Input_Alternative>
                            <Alternative_ID>0001</Alternative_ID>
                            <List_of_Alternative_Types>
                                <Alternative_Type>
                                    <File_Type>AUX_IERS_B</File_Type>
                                    <Origin>External</Origin>
                                    <Instances>SINGLE</Instances>
                                    <Selection_Parameters>
                                        <Temporal_Parameters>
                                            <Start_Offset>0</Start_Offset>
                                            <Stop_Offset>0</Stop_Offset>
                                            <Overlap>Yes</Overlap>
                                            <Min_Overlap>0</Min_Overlap>
                                        </Temporal_Parameters>
                                    </Selection_Parameters>
                                    <Max_Number_of_Files>1</Max_Number_of_Files>
                                    <Ordering>Latest</Ordering>
                                </Alternative_Type>
                            </List_of_Alternative_Types>
                        </Input_Alternative>
                    </List_of_Input_Alternatives>
                </Input>
                <Input>
                    <Input_ID>MPL_ORBPRE</Input_ID>
                    <Mandatory>Yes</Mandatory>
                    <List_of_Input_Alternatives>
                        <Input_Alternative>
                            <Alternative_ID>0001</Alternative_ID>
                            <List_of_Alternative_Types>
                                <Alternative_Type>
                                    <File_Type>MPL_ORBPRE</File_Type>
                                    <Origin>External</Origin>
                                    <Instances>SINGLE</Instances>
                                    <Selection_Parameters>
                                        <Temporal_Parameters>
                                            <Start_Offset>0</Start_Offset>
                                            <Stop_Offset>0</Stop_Offset>
                                            <Overlap>Yes</Overlap>
                                            <Min_Overlap>0</Min_Overlap>
                                        </Temporal_Parameters>
                                    </Selection_Parameters>
                                    <Max_Number_of_Files>1</Max_Number_of_Files>
                                    <Ordering>Latest</Ordering>
                                </Alternative_Type>
                            </List_of_Alternative_Types>
                        </Input_Alternative>
                    </List_of_Input_Alternatives>
                </Input>
            </List_of_Inputs>
            <List_of_Outputs>
                <Output>
                    <File_Type>L0__INSTTM</File_Type>
                    <File_Name_Pattern>FLX_L0__INSTTM_.*</File_Name_Pattern>
                    <Destination>External</Destination>
                </Output>
            </List_of_Outputs>
            <List_of_Intermediate_Outputs/>
            <List_of_Exit_Codes>
                <Exit_Code>
                    <Value>0</Value>
                    <Description>The L0PFStep3 Task execution was successfully completed.</Description>
                </Exit_Code>
            </List_of_Exit_Codes>
        </Task>
    </List_of_Tasks>
</Task_Table>
